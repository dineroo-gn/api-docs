getRestaurants:
  get:
    tags:
      - Restaurant Management
    summary: Retrieve all restaurants
    operationId: getRestaurants
    parameters:
      - name: page
        in: query
        required: false
        schema:
          type: integer
          format: int32
          default: 1
          minimum: 1
      - name: size
        in: query
        required: false
        schema:
          type: integer
          format: int32
          default: 10
          minimum: 1
      - name: sort
        in: query
        required: false
        schema:
          type: string
          default: name
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      "200":
        description: A list of available restaurants
        content:
          application/json:
            schema:
              $ref: "../components/schemas/RestaurantCollectionResponse.yaml"
      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "An unexpected error occurred while processing your request."
              instance: "/v1/restaurants"

getRestaurantById:
  get:
    tags:
      - Restaurant Management
    summary: Retrieve a specific restaurant by ID
    operationId: getRestaurantById
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: Restaurant details
        content:
          application/json:
            schema:
              $ref: "../components/schemas/Restaurant.yaml"
      "400":
        description: Invalid restaurant ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format"
              instance: "/v1/restaurants/invalid-id"
      "404":
        description: Restaurant not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Restaurant with ID 'dfa3ef5a-549e-4728-a3dd-1184039e540b' was not found."
              instance: "/v1/restaurants/dfa3ef5a-549e-4728-a3dd-1184039e540b"
      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "Unexpected error while retrieving the restaurant."
              instance: "/v1/restaurants/{restaurantId}"

getMenuById:
  get:
    tags:
      - Restaurant Management
    summary: Retrieve a menu by restaurant and menu ID
    operationId: getMenuById
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: menuId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: Menu details
        content:
          application/json:
            schema:
              $ref: "../components/schemas/MenuResponse.yaml"
      "400":
        description: Invalid restaurant ID or menu ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format in restaurantId or menuId"
              instance: "/v1/restaurants/{restaurantId}/menus/{menuId}"
      "404":
        description: Menu not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Menu with ID 'abc-123' not found for restaurant 'xyz-456'."
              instance: "/v1/restaurants/xyz-456/menus/abc-123"
      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "Unexpected error while retrieving the menu."
              instance: "/v1/restaurants/{restaurantId}/menus/{menuId}"

uploadRawData:
  post:
    tags:
      - Restaurant Management
    operationId: uploadRawData
    summary: Upload zip file containing a restaurant raw data
    requestBody:
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              file:
                type: string
                format: binary
              organizationId:
                type: string
                example: 579acecc-59e3-46f1-9e52-4a6da1a5e768
            required:
              - file
              - organizationId
    responses:
      "201":
        description: Created
      "400":
        description: Invalid file
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid zip file"
              instance: "/v1/restaurants/files/upload"
      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "Unexpected error while uploading the zip to wasabi."
              instance: "/v1/restaurants/files/upload"
updateRestaurant:
  patch:
    tags:
      - Restaurant Management
    operationId: updateRestaurant
    summary: Allow to update restaurant information
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      require: true
      content:
        application/json:
          schema:
            $ref: "../components/schemas/RestaurantRequest.yaml"
    responses:
      "200":
        description: Ok
        content:
          application/json:
            schema:
              $ref: "../components/schemas/Restaurant.yaml"
      "404":
        description: Restaurant not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Restaurant with ID 'abc-123' not found for restaurant 'xyz-456'."
              instance: "/v1/restaurants/550e8400-e29b-41d4-a716-446655440010"
      "400":
        description: Invalid restaurant ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format"
              instance: "/v1/restaurants/invalid-id"

      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "An unexpected error occurred while processing your request."
              instance: "/v1/restaurants"

fetchMenus:
  get:
    tags:
      - Restaurant Management
    operationId: getMenus
    summary: Retrieve all the menus for a restaurant
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: OK
        content:
          'application/json':
            schema:
              type: array
              items:
                $ref: "../components/schemas/Menu.yaml"
      "400":
        description: Invalid restaurant ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format"
              instance: "/v1/restaurants/menus/invalid-id"
      "404":
        description: Restaurant not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Restaurant with ID 'abc-123' not found for restaurant 'xyz-456'."
              instance: "/v1/restaurants/550e8400-e29b-41d4-a716-446655440010/menus"

      "500":
        description: Internal server error
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Internal Server Error"
              status: 500
              detail: "An unexpected error occurred while processing your request."
              instance: "/v1/restaurants/{restaurantId}/menus"

acceptOrder:
  put:
    tags:
      - Restaurant Management
    operationId: acceptOrder
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
          type: string
      - name: orderId
        in: path
        required: true
        schema:
          type: string
    responses:
      "200":
        description: OK
      "400":
        description: Invalid restaurant ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format"
              instance: "/v1/restaurants/{orderId}/orders/invalid-id/accept"
      "404":
        description: Order not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Order with ID 'abc-123' not found for restaurant 'xyz-456'."
              instance: "/v1/restaurants/550e8400-e29b-41d4-a716-446655440010/orders/{orderId}/accept"
    "500":
      description: Internal server error
      content:
        application/problem+json:
          schema:
            $ref: "../components/responses/ErrorResponse.yaml"
          example:
            type: "about:blank"
            title: "Internal Server Error"
            status: 500
            detail: "An unexpected error occurred while processing your request."
            instance: "/v1/restaurants/{restaurantId}/orders/{orderId}/accept"
rejectOrder:
  put:
    tags:
      - Restaurant Management
    operationId: rejectOrder
    parameters:
      - name: restaurantId
        in: path
        required: true
        schema:
        type: string
      - name: orderId
        in: path
        required: true
        schema:
        type: string
    responses:
      "200":
        description: OK
      "400":
        description: Invalid restaurant ID format
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Bad Request"
              status: 400
              detail: "Invalid UUID format"
              instance: "/v1/restaurants/{orderId}/orders/invalid-id/reject"
      "404":
        description: Order not found
        content:
          application/problem+json:
            schema:
              $ref: "../components/responses/ErrorResponse.yaml"
            example:
              type: "about:blank"
              title: "Not Found"
              status: 404
              detail: "Order with ID 'abc-123' not found for restaurant 'xyz-456'."
              instance: "/v1/restaurants/550e8400-e29b-41d4-a716-446655440010/orders/{orderId}/reject"
    "500":
      description: Internal server error
      content:
        application/problem+json:
          schema:
            $ref: "../components/responses/ErrorResponse.yaml"
          example:
            type: "about:blank"
            title: "Internal Server Error"
            status: 500
            detail: "An unexpected error occurred while processing your request."
            instance: "/v1/restaurants/{restaurantId}/orders/{orderId}/reject"
